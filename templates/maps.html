{% extends "layout.html" %}
{% block content %}
<div class="content-section">
    <form action="" method="post", enctype="multipart/form-data">
        {{ form.hidden_tag() }}
        <fieldset class="form-group">
            <legend class="border-bottom mb-4"></legend>
            <div class="form-group">
                {{ form.x_coor.label(class="form-control-label") }}

                {% if form.x_coor.errors %}
                    {{ form.x_coor(class="form-control form-control-lg is-invalid")}}
                    <div class="invalid-feedback">
                        {% for error in form.x_coor.errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                {% else %}
                    {{ form.x_coor(class="form-control form-control-lg")}}
                {% endif %}
            </div>
            <div class="form-group">
                {{ form.y_coor.label(class="form-control-label") }}
                {% if form.y_coor.errors %}
                    {{ form.y_coor(class="form-control form-control-lg is-invalid")}}
                    <div class="invalid-feedback">
                        {% for error in form.y_coor.errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                {% else %}
                    {{ form.y_coor(class="form-control form-control-lg")}}
                {% endif %}
            </div>
            <div class="form-group">
                {{ form.crs.label(class="form-control-label") }}
                {% if form.crs.errors %}
                    {{ form.crs(class="form-control form-control-lg is-invalid")}}
                    <div class="invalid-feedback">
                        {% for error in form.crs.errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                {% else %}
                    {{ form.crs(class="form-control form-control-lg")}}
                {% endif %}
            </div>
            <!-- <div class="form-group">
                <label for="crs">Chọn tỉnh thành: </label>
                <br>
                <select id="crs" name="crs">
                    <option hidden disabled selected value></option>
                    <option value="9210">Thành phố Hồ Chí Minh</option>
                    <option value="9206">Điện Biên</option>
                    <option value="9205">Lai Châu</option>
                    <option value="9205">Sơn La</option>
                    <option value="9207">Cà Mau</option>
                    <option value="9207">Kiên Giang</option>
                    <option value="9208">An Giang</option>
                    <option value="9208">Lào Cai</option>
                    <option value="9208">Nghệ An</option>
                    <option value="9208">Phú Thọ</option>
                    <option value="9208">Yên Bái</option>
                    <option value="5897">Bạc Liêu</option>
                    <option value="5897">Cần Thơ</option>
                    <option value="5897">Đồng Tháp</option>
                    <option value="5897">Hà Nam</option>
                    <option value="5897">Hà Nội</option>
                    <option value="5898">Hậu Giang</option>
                    <option value="5897">Ninh Bình</option>
                    <option value="5897">Thanh Hoá</option>
                    <option value="5897">Vĩnh Phúc</option>
                    <option value="9209">Bắc Ninh</option>
                    <option value="9209">Hà Giang</option>
                    <option value="9209">Hà Tĩnh</option>
                    <option value="9209">Hải Dương</option>
                    <option value="9209">Nam Định</option>
                    <option value="9209">Sóc Trăng</option>
                    <option value="9209">Tây Ninh</option>
                    <option value="9209">Thái Bình</option>
                    <option value="9209">Hưng Yên</option>
                    <option value="9209">Trà Vinh</option>
                    <option value="9209">Vĩnh Long</option>
                    <option value="9210">Bến Tre</option>
                    <option value="9210">Bình Dương</option>
                    <option value="9210">Cao Bằng</option>
                    <option value="9210">Hải Phòng</option>
                    <option value="9210">Long An</option>
                    <option value="9210">Tiền Giang</option>
                    <option value="9211">Hoà Bình</option>
                    <option value="9211">Quảng Bình</option>
                    <option value="9211">Tuyên Quang</option>
                    <option value="9212">Bình Phước</option>
                    <option value="9212">Quảng Trị</option>
                    <option value="9213">Bắc Kạn</option>
                    <option value="9213">Thái Nguyên</option>
                    <option value="9214">Bắc Giang</option>
                    <option value="9214">Thừa Thiên Huế</option>
                    <option value="9215">Lạng Sơn</option>
                    <option value="9216">Kon Tum</option>
                    <option value="5899">Bà Rịa - Vũng Tàu</option>
                    <option value="5899">Đà Nẵng</option>
                    <option value="5899">Đồng Nai</option>
                    <option value="5899">Lâm Đồng</option>
                    <option value="5899">Quảng Nam</option>
                    <option value="5899">Quảng Ninh</option>
                    <option value="5898">Quảng Ngãi</option>
                    <option value="9217">Bình Định</option>
                    <option value="9217">Khánh Hoà</option>
                    <option value="9217">Ninh Thuận</option>
                    <option value="9218">Phú Yên</option>
                    <option value="9218">Bình Thuận</option>
                    <option value="9218">Đắk Lắk</option>
                    <option value="9218">Đắk Nông</option>
                    <option value="9218">Gia Lai</option>
                </select>
            </div> -->
            <div class="form-group" onchange="loadFile(event)" >
                {{ form.image.label() }}
                {{ form.image(class="form-control-file") }}
                {% if form.image.errors %}
                    {{ form.image(class="form-control form-control-lg is-invalid")}}
                    <div class="invalid-feedback">
                        {% for error in form.y_coor.errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            <img id="output" style="width: 60%; height: 60%">
        </fieldset>
        <!-- <div class="form-group">
            {{ form.submit(class="btn-outline-info") }}
        </div> -->
        <input type="submit" value="Submit" onclick="loading();">
    </form>
</div>
<script>
    var loadFile = function(event) {
        var output = document.getElementById('output');
        output.src = URL.createObjectURL(event.target.files[0]);
        output.onload = function() {
        URL.revokeObjectURL(output.src) // free memory
        }
    };  
</script>
{% endblock content %}

{% block map %}
{% if posts %}
    <iframe width="600" height="500" frameborder="0" style="border:0" src="https://www.google.com/maps/embed/v1/place?q={{posts[0]}}%2C%20{{posts[1]}}&key=AIzaSyCaRkfQYahP3fTIL31Da9Ppv5rnNWcG1F0" allowfullscreen></iframe>
    <span>{{ posts[2] }}</span>
{% else %}
    <iframe w   idth="600" height="500" frameborder="0" style="border:0" src="https://www.google.com/maps/embed/v1/place?q=41%2024.2028%2C%202%2010.4418&key=AIzaSyCaRkfQYahP3fTIL31Da9Ppv5rnNWcG1F0" allowfullscreen></iframe>
{% endif %}
{% endblock %}
